-- ========================================================================
-- Function สำหรับ update updated_at
-- ========================================================================
CREATE OR REPLACE FUNCTION update_modified_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;

-- ========================================================================
-- ตาราง DRINKS
-- ========================================================================
CREATE TABLE drinks (
    id SERIAL PRIMARY KEY,
    sub_category VARCHAR(255),
    name VARCHAR(255) NOT NULL,
    price DECIMAL(10,2),
    description TEXT,  
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TRIGGER update_drinks_modtime
BEFORE UPDATE ON drinks
FOR EACH ROW
EXECUTE FUNCTION update_modified_column();

-- ========================================================================
-- ตาราง FOODS
-- ========================================================================
CREATE TABLE foods (
    id SERIAL PRIMARY KEY,
    sub_category VARCHAR(255),
    name VARCHAR(255) NOT NULL,
    price DECIMAL(10,2),
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TRIGGER update_foods_modtime
BEFORE UPDATE ON foods
FOR EACH ROW
EXECUTE FUNCTION update_modified_column();

-- ========================================================================
-- ตาราง DESSERTS
-- ========================================================================
CREATE TABLE desserts (
    id SERIAL PRIMARY KEY,
    sub_category VARCHAR(255),
    name VARCHAR(255) NOT NULL,
    price DECIMAL(10,2),
    description TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);

CREATE TRIGGER update_desserts_modtime
BEFORE UPDATE ON desserts
FOR EACH ROW
EXECUTE FUNCTION update_modified_column();

-- ========================================================================
-- INSERT DRINKS (เพิ่ม description)
-- ========================================================================
INSERT INTO drinks (sub_category, name, price, description) VALUES
('นม', 'นมสด', 50, 'นมสดหอมละมุน ดื่มง่าย'),
('นม', 'นมชมพู', 50, 'นมชมพูหวานหอม ดื่มเพลิน'),
('นม', 'นมคาราเมล', 50, 'นมคาราเมลเข้มข้น หอมหวาน'),
('นม', 'นมสดสตรอเบอรี่', 50, 'นมสดผสมสตรอเบอรี่หวานหอม'),

('นม', 'ชาไทย', 50, 'ชาไทยหอมเข้ม หวานมันลงตัว'),
('นม', 'ชาเขียว', 50, 'ชาเขียวกลิ่นหอมสดชื่น'),
('นม', 'โกโก้', 50, 'โกโก้เข้มข้นหวานมัน'),
('นม', 'โอวัลติน', 50, 'โอวัลตินหวานหอมแบบคุ้นเคย'),
('นม', 'ไมโล', 50, 'ไมโลเข้มข้น หวานมันกำลังดี'),
('นม', 'ไวท์มอลต์', 50, 'ไวท์มอลต์หวานกลมกล่อม'),

('กาแฟ', 'อเมริกาโน่', 70, 'กาแฟดำเข้มข้นสดชื่น'),
('กาแฟ', 'อเมริกาโน่น้ำผึ้งมะนาว', 70, 'กาแฟเข้มผสมน้ำผึ้งมะนาวสดชื่น'),
('กาแฟ', 'อเมริกาโน่น้ำส้ม', 70, 'กาแฟเข้มกับน้ำส้มสด หอมเปรี้ยวหวาน'),
('กาแฟ', 'ลาเต้', 70, 'ลาเต้หอมมัน นุ่มละมุน'),
('กาแฟ', 'คาปูชิโน่', 70, 'คาปูชิโน่เข้มข้น ฟองนมนุ่ม'),
('กาแฟ', 'เอสเพรสโซ', 70, 'เอสเพรสโซเข้มข้นสำหรับคอกาแฟ'),

('โซดา', 'แดงมะนาวโซดา', 50, 'น้ำแดงมะนาวซ่า สดชื่น'),
('โซดา', 'บ๊วยโซดา', 50, 'บ๊วยโซดาเปรี้ยวเค็มสดชื่น'),
('โซดา', 'อัญชันน้ำผึ้งมะนาว', 50, 'อัญชันผสมน้ำผึ้งมะนาว หอมหวานสดชื่น'),
('โซดา', 'น้ำผึ้งมะนาวโซดา', 50, 'หวานอมเปรี้ยว ซ่ากำลังดี'),
('โซดา', 'น้ำแดงน้ำผึ้งมะนาว', 50, 'น้ำแดงผสมมะนาวหวานสดชื่น'),
('โซดา', 'อิตาเลี่ยนโซดา', 50, 'อิตาเลียนโซดาสีสด ดื่มง่าย'),

('มัทฉะ', 'มัทฉะลาเต้', 70, 'มัทฉะเข้มผสมนมหอมมัน'),
('มัทฉะ', 'มัทฉะโฟมมะพร้าว', 70, 'มัทฉะเข้มตัดด้วยโฟมมะพร้าวหวานหอม'),
('มัทฉะ', 'มัทฉะสตอเบอรี่', 70, 'มัทฉะเข้มผสมสตรอเบอรี่สด'),
('มัทฉะ', 'เพียวมัทฉะ', 70, 'มัทฉะแท้เข้มข้นสำหรับสายชาเขียว'),

('สมูทตี้', 'สมูทตี้สตรอว์เบอร์รี่', 65, 'สมูทตี้สตรอว์เบอร์รี่หวานสดชื่น'),
('สมูทตี้', 'สมูทตี้บลูเบอร์รี่', 65, 'บลูเบอร์รี่เปรี้ยวหวานลงตัว'),
('สมูทตี้', 'ส้มโยเกิร์ตสมูทตี้', 65, 'ส้มสดผสมโยเกิร์ตสดชื่น'),
('สมูทตี้', 'สมูทตี้รวมเบอร์รี่', 65, 'รวมเบอร์รี่เปรี้ยวหวานสดชื่น'),
('สมูทตี้', 'โอริโอ้ปั่น', 65, 'โอริโอ้ปั่นกรุบกรอบ'),
('สมูทตี้', 'เนสวีต้าปั่น', 65, 'เนสวีต้าปั่นหอมมอลต์'),

(NULL, 'น้ำเปล่า', 15, 'น้ำเปล่าเย็นสดชื่น'),
(NULL, 'โค้ก', 20, 'โค้กหวานซ่าดื่มง่าย'),
(NULL, 'เบียร์สิงห์', 90, 'เบียร์สิงห์รสละมุน'),
(NULL, 'เบียร์ลีโอ', 80, 'ลีโอรสนุ่มดื่มเพลิน'),
(NULL, 'สโนวี่ ไวเซ่น', 89, 'เบียร์ไวเซ่นหอมข้าวสาลี'),
(NULL, 'สโนวี่ โรเซ่', 89, 'โรเซ่เบียร์หอมผลไม้'),
(NULL, 'น้ำแข็งเปล่า(แก้ว)', 5, 'น้ำแข็งหนึ่งแก้ว'),
(NULL, 'น้ำแข็งเปล่า(ถัง)', 20, 'น้ำแข็งหนึ่งถัง');

-- ========================================================================
-- INSERT DESSERTS (เพิ่ม description)
-- ========================================================================
INSERT INTO desserts (sub_category, name, price, description) VALUES
('โทสต์', 'โทสต์สตรอว์เบอร์รี่', 99, 'โทสต์ราดสตรอว์เบอร์รี่หวานหอม'),
('โทสต์', 'โทสต์ช็อกโกแลต', 99, 'โทสต์ราดช็อกโกแลตเข้มข้น'),
('โทสต์', 'โทสต์โอรีโอ้', 99, 'โทสต์ราดโอรีโอ้กรุบกรอบ'),
('โทสต์', 'โทสต์คาราเมล', 99, 'โทสต์ราดคาราเมลหวานมัน'),
('โทสต์', 'โทสต์ฮันนี่', 99, 'โทสต์ราดน้ำผึ้งหอมหวาน'),

('ปังเย็น', 'ปังเย็นช็อกโกแลต', 69, 'ปังเย็นราดช็อกโกแลตหวานเย็น'),
('ปังเย็น', 'ปังเย็นโอรีโอ้', 69, 'ปังเย็นโอรีโอ้กรอบหวาน'),
('ปังเย็น', 'ปังเย็นสตรอว์เบอร์รี่', 69, 'ปังเย็นราดสตรอว์เบอร์รี่สด'),
('ปังเย็น', 'ปังเย็นคาราเมล', 69, 'ปังเย็นราดคาราเมลหวานหอม'),
('ปังเย็น', 'ปังเย็นนมฮันนี่', 69, 'ปังเย็นราดนมและน้ำผึ้ง'),

('ขนมปังปิ้ง', 'ขนมปังปิ้งชาไทย', 25, 'ขนมปังชุบชาไทยหอมหวาน'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งช็อกโกแลต', 25, 'ขนมปังราดช็อกโกแลตเข้ม'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งช็อกโกแลตกล้วย', 25, 'ช็อกโกแลตคู่กล้วยหอมลงตัว'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งนมสด', 25, 'ขนมปังราดนมสดหวานหอม'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งสตรอเบอร์รี่', 25, 'ราดสตรอว์เบอร์รี่หวานเปรี้ยว'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งเนยนม', 25, 'เนยนมหอมมัน'),
('ขนมปังปิ้ง', 'ขนมปังปิ้งเนยน้ำตาล', 25, 'เนยน้ำตาลกรอบหวาน');

-- ========================================================================
-- INSERT FOODS (เพิ่ม description)
-- ========================================================================
INSERT INTO foods (sub_category, name, price, description) VALUES
('อาหารจานเดียว', 'ข้าวกะเพราหมู', 69, 'ผัดกะเพราหมูเผ็ดหอมแบบต้นตำรับ'),
('อาหารจานเดียว', 'ข้าวกะเพราทะเล', 89, 'ผัดกะเพราทะเลจัดจ้าน'),
('อาหารจานเดียว', 'ข้าวหมูกระเทียม', 69, 'หมูกระเทียมหอมมัน'),
('อาหารจานเดียว', 'ข้าวทะเลกระเทียม', 89, 'ทะเลกระเทียมผัดเข้มข้น'),
('อาหารจานเดียว', 'ข้าวคะน้าหมูกรอบ', 79, 'คะน้าหมูกรอบไฟแรง'),
('อาหารจานเดียว', 'ข้าวยำไก่แซ่บ', 79, 'ไก่ทอดคลุกซอสสุดจัดจ้าน'),
('อาหารจานเดียว', 'ข้าวไก่กรอบซอสพะแนง', 79, 'ไก่กรอบราดซอสพะแนงเข้มข้น'),
('อาหารจานเดียว', 'ข้าวห่อหมกทะเลไข่ข้น', 99, 'ห่อหมกทะเลคู่ไข่ข้นละมุน'),
('อาหารจานเดียว', 'ข้าวผัดพริกแกงหมู', 69, 'พริกแกงเผ็ดหอมรสจัด'),
('อาหารจานเดียว', 'ข้าวผัดพริกแกงทะเล', 89, 'พริกแกงทะเลรสจัดจ้าน'),
('อาหารจานเดียว', 'ข้าวหมูกรอบผัดพริกเกลือ', 89, 'หมูกรอบพริกเกลือหอมเผ็ด'),
('อาหารจานเดียว', 'ข้าวกุ้งผัดพริกเกลือ', 89, 'กุ้งสดผัดพริกเกลือเข้มข้น'),
('อาหารจานเดียว', 'ข้าวกุ้งผัดพริกขี้หนู+ไข่ข้น', 99, 'กุ้งผัดขี้หนูเผ็ดจัดคู่ไข่ข้น'),
('อาหารจานเดียว', 'ข้าวผัดเขียวหวาน', 69, 'เขียวหวานหอมมัน'),
('อาหารจานเดียว', 'ข้าวผัด', 69, 'ข้าวผัดบ้านๆ หอมกระทะ'),
('อาหารจานเดียว', 'ข้าวผัดต้มยำ', 69, 'ต้มยำเปรี้ยวเผ็ดหอมสมุนไพร'),
('อาหารจานเดียว', 'ข้าวผัดมันเนื้อ', 189, 'เนื้อผัดมันเข้มข้น'),
('อาหารจานเดียว', 'ข้าวหน้าหมูทอด', 89, 'หมูทอดกรอบนุ่ม'),
('อาหารจานเดียว', 'ข้าวหน้าไก่ทอด', 89, 'ไก่ทอดชิ้นใหญ่เคลือบซอส'),
('อาหารจานเดียว', 'คัตสึด้ง', 99, 'ทงคัตสึราดไข่สไตล์ญี่ปุ่น'),
('อาหารจานเดียว', 'ข้าวหน้าไก่ซอสเทอริยากิ', 89, 'ไก่ซอสเทอริยากิหวานเค็ม'),
('อาหารจานเดียว', 'ข้าวหน้าหมูสามชั้นสไลด์', 89, 'สามชั้นนุ่มย่างหอม'),
('อาหารจานเดียว', 'ข้าวหน้าหมูสันนอกสไลด์', 89, 'หมูสันนอกนุ่มราดซอสนัว'),
('อาหารจานเดียว', 'ข้าวไข่เจียว', 39, 'ไข่เจียวฟูหอม'),
('อาหารจานเดียว', 'ต้มยำน้ำข้น', 79, 'ต้มยำรสนัวเข้มข้น'),
('อาหารจานเดียว', 'ต้มยำน้ำใส', 79, 'ต้มยำใสเปรี้ยวเผ็ดสดชื่น'),
('อาหารจานเดียว', 'ลาบทอด', 99, 'ลาบทอดกรอบจัดจ้าน'),
('อาหารจานเดียว', 'หมูคลุกฝุ่น', 99, 'หมูทอดคลุกเครื่องลาบ'),
('อาหารจานเดียว', 'ข้าวเปล่า', 10, 'ข้าวสวยหอมมะลิ'),

('อาหารประเภทเส้น', 'สปาเกตตีไวท์ซอส', 99, 'ไวท์ซอสครีมมี่เข้มข้น'),
('อาหารประเภทเส้น', 'สปาเกตตีไวท์ซอส + ไข่กุ้ง', 119, 'ไวท์ซอสเข้มข้นเพิ่มไข่กุ้ง'),
('อาหารประเภทเส้น', 'สปาเกตตีเบคอนผัดพริกแห้ง', 89, 'เบคอนผัดพริกแห้งเผ็ดหอม'),
('อาหารประเภทเส้น', 'สปาเกตตีขี้เมาทะเลรวม', 99, 'ขี้เมาทะเลจัดจ้าน'),
('อาหารประเภทเส้น', 'มาม่าต้มยำหมูกรอบ', 89, 'มาม่าต้มยำเข้มข้นคู่หมูกรอบ'),
('อาหารประเภทเส้น', 'มาม่าต้มยำทะเล', 89, 'มาม่าต้มยำทะเลสดชื่น'),
('อาหารประเภทเส้น', 'มาม่าต้มยำหมูสับ', 79, 'หมูสับแน่นรสจัดจ้าน'),
('อาหารประเภทเส้น', 'มาม่าขี้เมาหมู', 79, 'ขี้เมาหมูเผ็ดหอม'),
('อาหารประเภทเส้น', 'มาม่าขี้เมาไก่', 79, 'ขี้เมาไก่เผ็ดร้อน'),
('อาหารประเภทเส้น', 'มาม่าขี้เมาทะเล', 89, 'ทะเลสดเผ็ดจัด'),
('อาหารประเภทเส้น', 'มาม่ากะเพราหมู', 79, 'กะเพราหมูเผ็ดหอม'),
('อาหารประเภทเส้น', 'บะหมี่ไก่ซอสเทอริยากิ', 79, 'บะหมี่กับไก่ซอสหวานเค็ม'),

('ของทานเล่น', 'เฟรนช์ฟรายส์', 59, 'เฟรนช์ฟรายส์ทอดกรอบ'),
('ของทานเล่น', 'ไก่ป๊อป', 79, 'ไก่ป๊อปกรอบเด้ง'),
('ของทานเล่น', 'ชีสบอล', 89, 'ชีสบอลไส้ยืดหอมมัน'),
('ของทานเล่น', 'เซ็ทรวม', 99, 'ของทอดรวมชุดใหญ่');
